@page
@model GreenPrint.Web.Pages.Admin.AdminDashboardModel
@{
}

<div class="container">

    <div class="row border-bottom border-primary">
        <h1>Admin panel</h1>
    </div>



    <div class="row mt-3 justify-content-evenly">

        <div class="col-2 p-1">
            <a class="btn btn-primary col-12 toggleLoader" asp-page="/Admin/Accounts/Customers"><i class="fa-solid fa-user-tag"></i> Customers</a>
        </div>

        <div class="col-2 p-1">
            <a class="btn btn-primary col-12 toggleLoader" asp-page="/Admin/Accounts/Users"><i class="fa-solid fa-users"></i> Users</a>
        </div>

        <div class="col-2 p-1">
            <a class="btn btn-primary col-12 toggleLoader" asp-page="/Admin/Accounts/Roles"><i class="fa-solid fa-user-shield"></i> Roles</a>
        </div>

        <div class="col-2 p-1">
            <a class="btn btn-primary col-12 toggleLoader" asp-page="/Admin/Store/Orders"><i class="fas fa-receipt"></i> All Orders</a>
        </div>

        <div class="col-2 p-1">
            <a class="btn btn-primary col-12 toggleLoader" asp-page="/Admin/Store/Products"><i class="fa-solid fa-boxes-stacked"></i> Products</a>
        </div>
    </div>

    <div class="row mt-5 text-center justify-content-evenly">

        <!-- Categories -->
        <div class="col-5">
            <div class="row border border-primary border-3 p-0 rounded">
                <div class="col-12 border-bottom border-primary border-3">
                    <h3 class="mb-1">Categories</h3>
                </div>
                <div class="col-12">
                    @foreach (var category in Model.Categories)
                    {
                        <form method="post" asp-page-handler="DeleteCategory" class="row m-1">
                            <div class="input-group">
                                <input type="text" class="form-control border-primary" value="@category.CategoryName" disabled />
                                <button type="submit" value="@category.Id" onclick="return confirm('Are you sure you want to delete this category?')" name="categoryID" class="btn btn-danger fw-bold"><i class="fa-solid fa-trash-can"></i></button>
                            </div>
                        </form>
                    }
                </div>
                <form method="post" asp-page-handler="AddCategory" class="col-12 border-top border-primary border-3 p-2">
                    <div class="input-group">
                        <input type="text" name="newCategoryName" class="form-control border-primary" />
                        <button type="submit" class="btn btn-success"><i class="fa-solid fa-circle-plus"></i></button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Warehouses -->
        <div class="col-5">
            <div class="row border border-primary border-3 p-0 rounded">
                <div class="col-12 border-bottom border-primary border-3">
                    <h3 class="mb-1">Warehouses</h3>
                </div>
                <div class="col-12">
                    @foreach (var warehouse in Model.Warehouses)
                    {
                        <form method="post" asp-page-handler="DeleteWarehouse" class="row m-1">
                            <div class="input-group">
                                <input type="text" class="form-control border-primary" value="@warehouse.WarehouseName" disabled />
                                <button type="submit" value="@warehouse.Id" onclick="return confirm('Are you sure you want to delete this warehouse?')" name="warehouseID" class="btn btn-danger fw-bold"><i class="fa-solid fa-trash-can"></i></button>
                            </div>
                        </form>
                    }
                </div>
                <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#createWarehouse" aria-controls="createWarehouse"><i class="fa-solid fa-circle-plus"></i></button>
            </div>
        </div>

    </div>

    <!-- Modal -->
    <div class="modal fade" id="createWarehouse" tabindex="-1" aria-labelledby="createWarehouseLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="ModalLabel">Create Warehouse</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form asp-page-handler="AddWarehouse">
                    <div class="modal-body">
                        <div class="row">
                            <div class="form-floating mb-3 gx-1">
                                <input type="text" name="wname" id="wname" class="form-control" placeholder="Warehouse Name" />
                                <label class="form-label" for="wname">Warehouse name</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-floating mb-3 col-8 gx-1">
                                <input type="text" name="street" id="street" class="form-control" placeholder="Street Name" />
                                <label class="form-label" for="street">Street Name</label>
                            </div>
                            <div class="form-floating mb-3 col-4 gx-1">
                                <input type="text" name="streetnum" id="streetnum" class="form-control" placeholder="Street Number" />
                                <label class="col-form-label" for="streetnum">Number</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-floating mb-3 col-8 gx-1">
                                <input type="text" name="city" id="city" class="form-control" placeholder="City" />
                                <label class="col-form-label" for="city">City</label>
                            </div>
                            <div class="form-floating mb-3 col-4 gx-1">
                                <input type="text" name="zip" id="zip" class="form-control" placeholder="Zip Code" />
                                <label class="col-form-label" for="zip">Zip</label>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary"><i class="fas fa-plus-circle"></i> Add</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

</div>
