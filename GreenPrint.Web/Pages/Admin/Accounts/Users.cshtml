@page
@model GreenPrint.Web.Pages.Admin.Accounts.UsersModel
@{
}

<div class="container">
    <div class="row border-bottom border-primary">
        <div class="col-10">
            <h1>Users</h1>
        </div>
        <div class="col-2 gx-1">
            <button class="btn btn-outline-primary" style="float:right;" data-bs-toggle="offcanvas" data-bs-target="#createUser" aria-controls="createUser"><span class="fas fa-plus-circle"></span> Add</button>
        </div>
    </div>
    <div class="row">
        <table class="table table-striped table-hover text-center ">
            <thead class="thead-darker">
                <tr>
                    <th>User ID</th>
                    <th>Email</th>
                    <th>Role</th>
                    <th>Is a Customer</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var User in Model.Users)
                {
                    <tr>
                        <td>@User.Id</td>
                        <td>@User.Email</td>
                        <td>@User.Role.RoleName</td>
                        <td>@(User.Customer != null ? "Yes" : "No")</td>
                        <td>
                            <div class="btn-group ">
                                <form asp-page-handler="removeUser">
                                    <button class="btn btn-outline-primary rounded-circle me-1" name="UserId" value="@User.Id" onclick="return confirm('Are you sure you want to delete this user?')"><span class="fas fa-trash-alt"></span></button>
                                </form>
                                <a class ="btn btn-outline-primary rounded-circle me-1" asp-page="/Admin/Accounts/User" asp-route-userId="@User.Id"><span class="fas fa-edit"></span></a>
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
